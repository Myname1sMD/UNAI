<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Nurym ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ –≤—É–∑–æ–≤</title>

    <!-- –°—Ç–∏–ª—å -->
    <link rel="stylesheet" href="style.css">

    <!-- favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèõÔ∏è</text></svg>">

    <!-- jsPDF –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <div>
                <h1>Nurym ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤—ã–±–æ—Ä–∞ –í–£–ó–æ–≤</h1>
                <p class="tagline">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥–±–æ—Ä, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—É–∑–æ–≤</p>
            </div>

            <div class="controls-right">
                <div class="language-selector">
                    <button onclick="changeLanguage('ru')" id="lang-ru" class="lang-btn active">–†–£</button>
                    <button onclick="changeLanguage('en')" id="lang-en" class="lang-btn">EN</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- AI assistant / Quiz -->
        <section id="nurym-assistant">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2>ü§ñ Nurym: –¢–≤–æ–π AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</h2>
                <div style="display:flex; gap:8px;">
                    <button onclick="startQuiz()" class="btn-outline">–ü—Ä–æ–π—Ç–∏ –æ–ø—Ä–æ—Å (MBTI)</button>
                    <button id="ai-open-btn" onclick="toggleAIChat()" class="btn-primary">–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</button>
                </div>
            </div>

            <div id="quiz-container" class="section-inner">
                <p>–ù–∞—á–Ω–∏—Ç–µ –æ–ø—Ä–æ—Å ‚Äî 12 –≤–æ–ø—Ä–æ—Å–æ–≤, –ø–æ–ª—É—á–∏—Ç–µ MBTI –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º –∏ –≤—É–∑–∞–º.</p>
            </div>

            <div id="quiz-results" class="nurym-output" style="display:none;"></div>
        </section>

        <!-- Catalog -->
        <section id="university-list-section">
            <h2>üéì –ö–∞—Ç–∞–ª–æ–≥ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤</h2>

            <div class="filters">
                <label for="city-filter">–ì–æ—Ä–æ–¥:</label>
                <select id="city-filter">
                    <option value="">(–í—Å–µ –≥–æ—Ä–æ–¥–∞)</option>
                </select>

                <label for="subject1">–ü—Ä–µ–¥–º–µ—Ç 1 (–ï–ù–¢):</label>
                <select id="subject1">
                    <option value="">(–ù–µ –≤—ã–±—Ä–∞–Ω–æ)</option>
                </select>

                <label for="subject2">–ü—Ä–µ–¥–º–µ—Ç 2 (–ï–ù–¢):</label>
                <select id="subject2">
                    <option value="">(–ù–µ –≤—ã–±—Ä–∞–Ω–æ)</option>
                </select>

                <button onclick="filterUniversities()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <button onclick="resetFilters()" class="btn-outline">–°–±—Ä–æ—Å</button>
            </div>

            <div id="university-list" class="grid"></div>
        </section>

        <!-- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ -->
        <section id="comparison-section" style="display:none;">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h2>üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—É–∑–æ–≤</h2>
                <div>
                    <button onclick="exportComparisonPDF()" class="btn-primary">–°–∫–∞—á–∞—Ç—å PDF</button>
                    <button onclick="clearComparison()" class="btn-outline">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>
            <div id="comparison-table"></div>
        </section>
    </main>

    <!-- Modal –¥–µ—Ç–∞–ª–∏ -->
    <div id="details-modal" class="modal" aria-hidden="true">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <div id="modal-body">
                <!-- –Ω–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- AI Chat widget -->
    <button id="ai-assistant-btn" onclick="toggleAIChat()" title="–û—Ç–∫—Ä—ã—Ç—å Nurym">Nurym</button>

    <div id="ai-chat-modal" class="chat-modal" style="display:none;" role="dialog" aria-modal="true">
        <div class="chat-header">
            <div class="chat-header-content">
                <h4>ü§ñ Nurym ‚Äî –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é</h4>
                <p class="chat-subtitle">–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å: –¥–æ–∫—É–º–µ–Ω—Ç—ã, –¥–µ–¥–ª–∞–π–Ω—ã, –≤—ã–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏.</p>
            </div>
            <span class="close-chat" onclick="toggleAIChat()">&times;</span>
        </div>

        <div class="chat-body" id="ai-chat-messages">
            <!-- system welcome -->
            <div class="message ai-message">
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    <strong>Nurym:</strong>
                    <p>–ü—Ä–∏–≤–µ—Ç! –ú–æ–≥—É –ø–æ–º–æ—á—å –≤—ã–±—Ä–∞—Ç—å –≤—É–∑, –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –¥–µ–¥–ª–∞–π–Ω—ã. –°–ø—Ä–æ—Å–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –¥–ª—è –ö–ë–¢–£?¬ª).</p>
                </div>
            </div>
        </div>

        <div class="chat-footer">
            <input type="text" id="ai-user-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." onkeydown="if(event.key === 'Enter') sendAIMessage()"/>
            <button onclick="sendAIMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
